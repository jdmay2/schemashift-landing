<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentation - SchemaShift</title>
    <meta
      name="description"
      content="SchemaShift documentation - CLI commands, migration examples, configuration, and license activation."
    />
    <style>
      :root {
        --bg: #0a0a0b;
        --surface: #141416;
        --surface-2: #1c1c1f;
        --border: #27272a;
        --text: #fafafa;
        --muted: #a1a1aa;
        --accent: #3b82f6;
        --green: #22c55e;
        --yellow: #eab308;
        --red: #ef4444;
        --purple: #a855f7;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.7;
        min-height: 100vh;
      }
      a {
        color: var(--accent);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }

      /* Layout */
      .layout {
        display: grid;
        grid-template-columns: 260px 1fr;
        min-height: 100vh;
      }
      @media (max-width: 900px) {
        .layout {
          grid-template-columns: 1fr;
        }
        .sidebar {
          display: none;
        }
      }

      /* Sidebar */
      .sidebar {
        background: var(--surface);
        border-right: 1px solid var(--border);
        padding: 2rem 1.5rem;
        position: sticky;
        top: 0;
        height: 100vh;
        overflow-y: auto;
      }
      .sidebar-logo {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 2rem;
      }
      .sidebar-logo span {
        color: var(--accent);
      }
      .sidebar nav {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }
      .sidebar a {
        color: var(--muted);
        padding: 0.5rem 0.75rem;
        border-radius: 6px;
        font-size: 0.9rem;
      }
      .sidebar a:hover {
        color: var(--text);
        background: var(--surface-2);
        text-decoration: none;
      }
      .sidebar-section {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin: 1.5rem 0 0.5rem 0.75rem;
      }

      /* Content */
      .content {
        padding: 3rem 4rem;
        max-width: 900px;
      }
      @media (max-width: 900px) {
        .content {
          padding: 2rem;
        }
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        border-bottom: 1px solid var(--border);
        padding-bottom: 1rem;
      }
      h2 {
        font-size: 1.5rem;
        margin: 3rem 0 1rem;
        padding-top: 1rem;
      }
      h3 {
        font-size: 1.15rem;
        margin: 2rem 0 0.75rem;
        color: var(--muted);
      }
      p {
        margin-bottom: 1rem;
      }

      /* Code */
      code {
        font-family: "SF Mono", Monaco, "Courier New", monospace;
        font-size: 0.875em;
        background: var(--surface);
        padding: 0.2em 0.4em;
        border-radius: 4px;
      }
      pre {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 1.25rem;
        overflow-x: auto;
        margin: 1rem 0 1.5rem;
      }
      pre code {
        background: none;
        padding: 0;
        font-size: 0.875rem;
        line-height: 1.6;
      }
      .cmd {
        color: var(--green);
      }
      .flag {
        color: var(--yellow);
      }
      .comment {
        color: var(--muted);
      }
      .string {
        color: var(--accent);
      }

      /* Tables */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0 1.5rem;
        font-size: 0.9rem;
      }
      th,
      td {
        padding: 0.75rem 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }
      th {
        background: var(--surface);
        font-weight: 600;
        color: var(--muted);
      }

      /* Callouts */
      .callout {
        border-radius: 8px;
        padding: 1rem 1.25rem;
        margin: 1.5rem 0;
        border-left: 4px solid;
      }
      .callout-info {
        background: rgba(59, 130, 246, 0.1);
        border-color: var(--accent);
      }
      .callout-warning {
        background: rgba(234, 179, 8, 0.1);
        border-color: var(--yellow);
      }
      .callout-success {
        background: rgba(34, 197, 94, 0.1);
        border-color: var(--green);
      }
      .callout-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
      }
      .callout p {
        margin: 0;
        font-size: 0.9rem;
      }

      /* Lists */
      ul,
      ol {
        margin: 0.5rem 0 1.5rem 1.5rem;
      }
      li {
        margin: 0.5rem 0;
      }

      /* Back link mobile */
      .mobile-nav {
        display: none;
        padding: 1rem 2rem;
        background: var(--surface);
        border-bottom: 1px solid var(--border);
      }
      @media (max-width: 900px) {
        .mobile-nav {
          display: block;
        }
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar">
        <div class="sidebar-logo">Schema<span>Shift</span></div>
        <nav>
          <a href="#getting-started">Getting Started</a>
          <a href="#installation">Installation</a>
          <a href="#quick-start">Quick Start</a>

          <div class="sidebar-section">Commands</div>
          <a href="#analyze">analyze</a>
          <a href="#migrate">migrate</a>
          <a href="#watch">watch</a>
          <a href="#rollback">rollback</a>
          <a href="#compat">compat</a>
          <a href="#governance">governance</a>
          <a href="#license">license</a>
          <a href="#pricing-cmd">pricing</a>
          <a href="#init">init</a>
          <a href="#doctor">doctor</a>
          <a href="#verify">verify</a>
          <a href="#compare">compare</a>
          <a href="#graph">graph</a>
          <a href="#presets">presets</a>
          <a href="#approvals">approvals</a>
          <a href="#hooks">hooks</a>
          <a href="#policy">policy</a>

          <div class="sidebar-section">Migrations</div>
          <a href="#yup-to-zod">Yup → Zod</a>
          <a href="#joi-to-zod">Joi → Zod</a>
          <a href="#zod-v3-to-v4">Zod v3 → v4</a>
          <a href="#io-ts-to-zod">io-ts → Zod</a>
          <a href="#zod-valibot">Zod ↔ Valibot</a>
          <a href="#zod-to-yup">Zod → Yup</a>
          <a href="#valibot-to-zod">Valibot → Zod</a>
          <a href="#zod-arktype">Zod ↔ ArkType</a>
          <a href="#zod-superstruct">Zod ↔ Superstruct</a>
          <a href="#io-ts-effect">io-ts → Effect Schema</a>
          <a href="#type-helpers">Type Helpers</a>
          <a href="#form-libraries">Form Libraries</a>

          <div class="sidebar-section">Configuration</div>
          <a href="#config-file">Config File</a>
          <a href="#custom-rules">Custom Rules</a>
          <a href="#governance-config">Governance</a>
          <a href="#plugins-config">Plugins</a>

          <div class="sidebar-section">Advanced</div>
          <a href="#advanced-analysis">Analysis</a>
          <a href="#risk-scoring">Risk Scoring</a>
          <a href="#cross-file">Cross-File</a>
          <a href="#chain-migrations">Chain Migrations</a>
          <a href="#ecosystem-detection">Ecosystem Detection</a>
          <a href="#standard-schema">Standard Schema</a>
          <a href="#form-resolver-migration">Form Resolver Migration</a>
          <a href="#complexity-estimation">Complexity Estimation</a>
          <a href="#todo-summary">TODO Summary</a>
          <a href="#monorepo-migration">Monorepo Migration</a>
          <a href="#behavioral-warnings">Behavioral Warnings</a>
          <a href="#bundle-estimation">Bundle Estimation</a>
          <a href="#performance-analysis">Performance Analysis</a>
          <a href="#type-deduplication">Type Deduplication</a>
          <a href="#dead-schema-detection">Dead Schema Detection</a>
          <a href="#import-deduplication">Import Deduplication</a>
          <a href="#test-scaffolding">Test Scaffolding</a>
          <a href="#audit-logging">Audit Logging</a>
          <a href="#drift-detection">Schema Drift Detection</a>
          <a href="#governance-templates">Governance Templates</a>
          <a href="#ci-reporting">CI Reporting (SARIF/JUnit)</a>
          <a href="#github-action">GitHub Action</a>
          <a href="#webhook-notifications">Webhook Notifications</a>
          <a href="#cross-field-patterns">Cross-Field Patterns</a>
          <a href="#when-migration">Enhanced .when() Migration</a>
          <a href="#behavioral-test-gen">Zod v4 Behavioral Tests</a>
          <a href="#incremental-migration">Incremental Migration</a>
          <a href="#package-updates">Package Updates</a>
          <a href="#schema-verification">Schema Verification</a>
          <a href="#canary-migration">Canary Migration</a>
          <a href="#duration-estimation">Duration Estimation</a>
          <a href="#compliance-reports">Compliance Reports</a>
          <a href="#ci-templates">CI/CD Templates</a>
          <a href="#hooks-integration">Pre-Commit Hooks</a>
          <a href="#policy-as-code">Policy-as-Code</a>

          <div class="sidebar-section">Licensing</div>
          <a href="#tiers">Tiers & Features</a>
          <a href="#activation">Activation</a>
          <a href="#ci-cd">CI/CD Setup</a>

          <div class="sidebar-section">Reference</div>
          <a href="#troubleshooting">Troubleshooting</a>
          <a href="#support">Support</a>
        </nav>
      </aside>

      <div class="mobile-nav">
        <a href="/">← Back to Home</a>
      </div>

      <main class="content">
        <h1>Documentation</h1>
        <p>
          SchemaShift is a TypeScript CLI tool that migrates schemas between
          validation libraries using AST-based transformations. It preserves
          code structure, formatting, and comments while converting your
          schemas.
        </p>

        <!-- GETTING STARTED -->
        <h2 id="getting-started">Getting Started</h2>

        <h3 id="installation">Installation</h3>
        <p>Install SchemaShift globally via npm:</p>
        <pre><code><span class="cmd">npm install -g schemashift-cli</span></code></pre>
        <p>Or use npx to run without installing:</p>
        <pre><code><span class="cmd">npx schemashift</span> <span class="flag">--help</span></code></pre>

        <h3 id="quick-start">Quick Start</h3>
        <p>Analyze your project to see what schemas you have:</p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src</code></pre>

        <p>Preview migration changes with dry-run:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--dry-run</span></code></pre>

        <p>Run the migration:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod</code></pre>

        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            Always run with <code>--dry-run</code> first to preview changes
            before modifying files.
          </p>
        </div>

        <!-- COMMANDS -->
        <h2 id="analyze">analyze</h2>
        <p>
          Scan your project and detect schema definitions across all supported
          libraries.
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> &lt;path&gt; [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--json</code></td>
              <td>Output results as JSON</td>
            </tr>
            <tr>
              <td><code>-v, --verbose</code></td>
              <td>Show detailed schema information</td>
            </tr>
            <tr>
              <td><code>--detailed</code></td>
              <td>
                Full stats with complexity scoring and readiness
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--readiness &lt;path&gt;</code></td>
              <td>
                Migration readiness report, e.g. "yup-&gt;zod"
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--complexity</code></td>
              <td>
                Per-schema complexity scores
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--behavioral &lt;migration&gt;</code></td>
              <td>
                Behavioral difference warnings, e.g. "yup-&gt;zod"
                <span class="badge" style="background: var(--green)">Free</span>
              </td>
            </tr>
            <tr>
              <td><code>--bundle &lt;migration&gt;</code></td>
              <td>
                Bundle size estimation, e.g. "zod-&gt;valibot"
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--performance &lt;migration&gt;</code></td>
              <td>
                Performance impact analysis, e.g. "zod-v3-&gt;v4"
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--dedup</code></td>
              <td>
                Detect duplicate type definitions
                <span class="badge">Individual+</span>
              </td>
            </tr>
          </tbody>
        </table>

        <p>Example output:</p>
        <pre><code>Schema Analysis

Total files: 47
Files with schemas: 12
Total schemas: 34

Schemas by library:

  yup: 28
  zod: 6</code></pre>

        <h2 id="migrate">migrate</h2>
        <p>Transform schemas from one library to another.</p>
        <pre><code><span class="cmd">schemashift migrate</span> &lt;path&gt; <span class="flag">--from</span> &lt;library&gt; <span class="flag">--to</span> &lt;library&gt; [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-f, --from</code></td>
              <td>Source library (yup, joi, io-ts, zod-v3)</td>
            </tr>
            <tr>
              <td><code>-t, --to</code></td>
              <td>Target library (zod, v4, valibot)</td>
            </tr>
            <tr>
              <td><code>-d, --dry-run</code></td>
              <td>Preview changes without writing files</td>
            </tr>
            <tr>
              <td><code>-v, --verbose</code></td>
              <td>Show detailed transformation info</td>
            </tr>
            <tr>
              <td><code>-c, --config</code></td>
              <td>Path to config file</td>
            </tr>
            <tr>
              <td><code>--report &lt;format&gt;</code></td>
              <td>Generate report (json, html, csv)</td>
            </tr>
            <tr>
              <td><code>--report-output</code></td>
              <td>Report output path</td>
            </tr>
            <tr>
              <td><code>--chain &lt;path&gt;</code></td>
              <td>
                Chain migration, e.g. "yup-&gt;zod-&gt;valibot"
                <span class="badge">Pro+</span>
              </td>
            </tr>
            <tr>
              <td><code>--cross-file</code></td>
              <td>
                Resolve cross-file schema imports
                <span class="badge">Pro+</span>
              </td>
            </tr>
            <tr>
              <td><code>--compat-check</code></td>
              <td>
                Run compatibility check before migration
                <span class="badge">Pro+</span>
              </td>
            </tr>
            <tr>
              <td><code>--git-branch</code></td>
              <td>Create git branch for changes</td>
            </tr>
            <tr>
              <td><code>--git-commit</code></td>
              <td>Auto-commit changes</td>
            </tr>
            <tr>
              <td><code>--no-backup</code></td>
              <td>Skip backup creation</td>
            </tr>
            <tr>
              <td><code>--ci</code></td>
              <td>CI mode (exit code 1 on failure)</td>
            </tr>
            <tr>
              <td><code>--fail-on-warnings</code></td>
              <td>
                Exit 1 if any warnings
                <span class="badge">Team</span>
              </td>
            </tr>
            <tr>
              <td><code>--max-risk-score &lt;n&gt;</code></td>
              <td>
                Exit 1 if file exceeds risk score (0-100)
                <span class="badge">Team</span>
              </td>
            </tr>
            <tr>
              <td><code>--scaffold-tests</code></td>
              <td>
                Generate validation tests after migration
                <span class="badge">Pro+</span>
              </td>
            </tr>
            <tr>
              <td><code>--audit</code></td>
              <td>
                Enable migration audit logging
                <span class="badge">Team</span>
              </td>
            </tr>
            <tr>
              <td><code>--preset &lt;name&gt;</code></td>
              <td>
                Use a migration preset
                <span class="badge">Individual+</span>
              </td>
            </tr>
            <tr>
              <td><code>--output-diff &lt;file&gt;</code></td>
              <td>
                Export unified diff to file (use <code>-</code> for stdout)
                <span class="badge">Free</span>
              </td>
            </tr>
            <tr>
              <td><code>--canary &lt;percent&gt;</code></td>
              <td>
                Migrate only N% of files, simplest first
                <span class="badge">Pro+</span>
              </td>
            </tr>
            <tr>
              <td><code>--compliance-report &lt;format&gt;</code></td>
              <td>
                Generate compliance report (soc2, hipaa)
                <span class="badge">Team</span>
              </td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># Basic migration</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod

<span class="comment"># With HTML report</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> joi <span class="flag">--to</span> zod <span class="flag">--report</span> html

<span class="comment"># Chain migration: Yup → Zod → Valibot</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--chain</span> yup-&gt;zod-&gt;valibot

<span class="comment"># Cross-file with compatibility check</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--cross-file</span> <span class="flag">--compat-check</span>

<span class="comment"># CI mode with risk threshold</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--ci</span> <span class="flag">--fail-on-warnings</span> <span class="flag">--max-risk-score</span> 50</code></pre>

        <h2 id="watch">watch</h2>
        <p>
          Watch files and automatically migrate on save.
          <strong>Requires Pro or Team license.</strong>
        </p>
        <pre><code><span class="cmd">schemashift watch</span> &lt;path&gt; <span class="flag">--from</span> &lt;library&gt; <span class="flag">--to</span> &lt;library&gt;</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-f, --from</code></td>
              <td>Source library</td>
            </tr>
            <tr>
              <td><code>-t, --to</code></td>
              <td>Target library</td>
            </tr>
            <tr>
              <td><code>-c, --config</code></td>
              <td>Path to config file</td>
            </tr>
          </tbody>
        </table>

        <p>Press <code>Ctrl+C</code> to stop watching.</p>

        <h2 id="rollback">rollback</h2>
        <p>Restore files from a backup created during migration.</p>
        <pre><code><span class="cmd">schemashift rollback</span> [backupId] [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-l, --list</code></td>
              <td>List available backups</td>
            </tr>
            <tr>
              <td><code>--clean</code></td>
              <td>Remove old backups (keeps last 5)</td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># List all backups</span>
<span class="cmd">schemashift rollback</span> <span class="flag">--list</span>

<span class="comment"># Restore most recent backup</span>
<span class="cmd">schemashift rollback</span>

<span class="comment"># Restore specific backup</span>
<span class="cmd">schemashift rollback</span> backup-1706123456789

<span class="comment"># Clean old backups</span>
<span class="cmd">schemashift rollback</span> <span class="flag">--clean</span></code></pre>

        <h2 id="license">license</h2>
        <p>Manage your license activation.</p>
        <pre><code><span class="cmd">schemashift license</span> [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-a, --activate &lt;key&gt;</code></td>
              <td>Activate a license key</td>
            </tr>
            <tr>
              <td><code>-d, --deactivate</code></td>
              <td>Deactivate current license</td>
            </tr>
            <tr>
              <td><code>-s, --status</code></td>
              <td>Show license status</td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># Check current license status</span>
<span class="cmd">schemashift license</span>

<span class="comment"># Activate a license</span>
<span class="cmd">schemashift license</span> <span class="flag">--activate</span> SCHEMASHIFT_PRO_xxxx-xxxx-xxxx

<span class="comment"># Deactivate to move to another device</span>
<span class="cmd">schemashift license</span> <span class="flag">--deactivate</span></code></pre>

        <h2 id="pricing-cmd">pricing</h2>
        <p>Display pricing information and available tier features.</p>
        <pre><code><span class="cmd">schemashift pricing</span></code></pre>
        <p>Shows a summary of all tiers, their prices, supported migrations, and key features.</p>

        <h2 id="init">init</h2>
        <p>Create a <code>.schemashiftrc.json</code> configuration file.</p>
        <pre><code><span class="cmd">schemashift init</span> [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-f, --force</code></td>
              <td>Overwrite existing config</td>
            </tr>
          </tbody>
        </table>

        <h2 id="compat">compat</h2>
        <p>
          Check schema library compatibility before migration.
          <span class="badge">Pro+</span>
        </p>
        <pre><code><span class="cmd">schemashift compat</span> &lt;path&gt; [--json]</code></pre>
        <p>
          Detects installed library versions from <code>package.json</code> and
          reports known version-specific issues. For example, Zod v3's
          <code>.errors</code> property was renamed to <code>.issues</code> in
          v4, and <code>z.record()</code> now requires a key type argument.
        </p>
        <pre><code><span class="comment"># Check compatibility</span>
<span class="cmd">schemashift compat</span> ./src

<span class="comment"># Machine-readable output</span>
<span class="cmd">schemashift compat</span> ./src <span class="flag">--json</span></code></pre>

        <h2 id="governance">governance</h2>
        <p>
          Run schema governance checks against configurable rules.
          <span class="badge">Team</span>
        </p>
        <pre><code><span class="cmd">schemashift governance</span> &lt;path&gt; [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--json</code></td>
              <td>Output results as JSON</td>
            </tr>
            <tr>
              <td><code>--fix</code></td>
              <td>Auto-fix fixable violations (no-any-schemas, require-descriptions, require-max-length, naming-convention)</td>
            </tr>
            <tr>
              <td><code>--fix-dry-run</code></td>
              <td>Preview auto-fixes without applying changes</td>
            </tr>
            <tr>
              <td><code>-c, --config</code></td>
              <td>Path to config file</td>
            </tr>
          </tbody>
        </table>

        <p>
          Enforces naming conventions, complexity limits, required validations,
          and more. See
          <a href="#governance-config">Governance Configuration</a> for setup.
        </p>
        <pre><code><span class="comment"># Run governance checks</span>
<span class="cmd">schemashift governance</span> ./src

<span class="comment"># Auto-fix violations</span>
<span class="cmd">schemashift governance</span> ./src <span class="flag">--fix</span>

<span class="comment"># Preview auto-fixes without applying</span>
<span class="cmd">schemashift governance</span> ./src <span class="flag">--fix-dry-run</span>

<span class="comment"># With custom config</span>
<span class="cmd">schemashift governance</span> ./src <span class="flag">-c</span> .schemashiftrc.json</code></pre>

        <!-- GRAPH -->
        <h2 id="graph">graph</h2>
        <p>
          Export schema dependency graph in DOT or Mermaid format.
          <span class="badge">Pro+</span>
        </p>
        <pre><code><span class="cmd">schemashift graph</span> &lt;path&gt; [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--format &lt;dot|mermaid&gt;</code></td>
              <td>Output format (default: mermaid)</td>
            </tr>
            <tr>
              <td><code>--output &lt;file&gt;</code></td>
              <td>Write to file instead of stdout</td>
            </tr>
            <tr>
              <td><code>--filter &lt;library&gt;</code></td>
              <td>Show only schemas from a specific library</td>
            </tr>
            <tr>
              <td><code>--highlight-circular</code></td>
              <td>Highlight circular dependencies</td>
            </tr>
            <tr>
              <td><code>--color</code></td>
              <td>Color-code nodes by library</td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># Export Mermaid diagram to stdout</span>
<span class="cmd">schemashift graph</span> ./src

<span class="comment"># Export DOT format to file</span>
<span class="cmd">schemashift graph</span> ./src <span class="flag">--format</span> dot <span class="flag">--output</span> schema-deps.dot

<span class="comment"># Highlight circular dependencies with colors</span>
<span class="cmd">schemashift graph</span> ./src <span class="flag">--highlight-circular</span> <span class="flag">--color</span></code></pre>

        <!-- PRESETS -->
        <h2 id="presets">presets</h2>
        <p>
          List available migration presets for common scenarios.
          <span class="badge">Individual+</span>
        </p>
        <pre><code><span class="cmd">schemashift presets</span> [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--json</code></td>
              <td>Output as JSON</td>
            </tr>
            <tr>
              <td><code>--category &lt;cat&gt;</code></td>
              <td>Filter by category</td>
            </tr>
          </tbody>
        </table>

        <h3>Built-in Presets</h3>
        <table>
          <thead>
            <tr>
              <th>Preset</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>react-hook-form-yup-to-zod</code></td>
              <td>React Hook Form project migrating from Yup to Zod, including resolver updates</td>
            </tr>
            <tr>
              <td><code>trpc-zod-v3-to-v4</code></td>
              <td>tRPC project upgrading Zod from v3 to v4</td>
            </tr>
            <tr>
              <td><code>express-joi-to-zod</code></td>
              <td>Express.js project migrating Joi validation to Zod</td>
            </tr>
            <tr>
              <td><code>nextjs-form-migration</code></td>
              <td>Next.js form validation migration</td>
            </tr>
            <tr>
              <td><code>monorepo-staged-migration</code></td>
              <td>Phased monorepo migration with topological ordering</td>
            </tr>
          </tbody>
        </table>

        <p>Use a preset with the migrate command:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--preset</span> react-hook-form-yup-to-zod</code></pre>

        <!-- APPROVALS -->
        <h2 id="approvals">approvals</h2>
        <p>
          Manage migration approval workflows for shared codebases.
          <span class="badge">Team</span>
        </p>
        <pre><code><span class="cmd">schemashift approvals</span> [path] [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--create</code></td>
              <td>Create a new migration request</td>
            </tr>
            <tr>
              <td><code>--approve &lt;id&gt;</code></td>
              <td>Approve a pending request</td>
            </tr>
            <tr>
              <td><code>--reject &lt;id&gt;</code></td>
              <td>Reject a pending request</td>
            </tr>
            <tr>
              <td><code>--list</code></td>
              <td>List all requests</td>
            </tr>
            <tr>
              <td><code>--status &lt;status&gt;</code></td>
              <td>Filter by status (pending, approved, rejected)</td>
            </tr>
            <tr>
              <td><code>-f, --from</code></td>
              <td>Source library (for --create)</td>
            </tr>
            <tr>
              <td><code>-t, --to</code></td>
              <td>Target library (for --create)</td>
            </tr>
            <tr>
              <td><code>--reviewer &lt;name&gt;</code></td>
              <td>Reviewer name</td>
            </tr>
            <tr>
              <td><code>--reason &lt;reason&gt;</code></td>
              <td>Decision reason</td>
            </tr>
            <tr>
              <td><code>--json</code></td>
              <td>Output as JSON</td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># Create a migration request</span>
<span class="cmd">schemashift approvals</span> ./src <span class="flag">--create</span> <span class="flag">--from</span> yup <span class="flag">--to</span> zod

<span class="comment"># List pending requests</span>
<span class="cmd">schemashift approvals</span> <span class="flag">--list</span> <span class="flag">--status</span> pending

<span class="comment"># Approve a request</span>
<span class="cmd">schemashift approvals</span> <span class="flag">--approve</span> req-1706123456 <span class="flag">--reviewer</span> "Jane" <span class="flag">--reason</span> "LGTM"

<span class="comment"># Reject a request</span>
<span class="cmd">schemashift approvals</span> <span class="flag">--reject</span> req-1706123456 <span class="flag">--reviewer</span> "Jane" <span class="flag">--reason</span> "Needs tests first"</code></pre>

        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            Approval requests are stored in <code>.schemashift/pending/</code> as JSON files.
            Integrate with code review workflows by committing these files to your repository.
          </p>
        </div>

        <!-- NEW COMMANDS -->
        <h2 id="doctor">doctor</h2>
        <p>
          Diagnose project health and suggest migrations.
          <span class="badge">Free</span>
        </p>
        <pre><code><span class="cmd">schemashift doctor</span> [path] [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--json</code></td>
              <td>Output as JSON</td>
            </tr>
          </tbody>
        </table>

        <p>The doctor command performs several health checks:</p>
        <ul>
          <li><strong>Schema library detection</strong> &mdash; identifies Zod, Yup, Joi, Valibot, io-ts, and their versions from <code>package.json</code></li>
          <li><strong>Outdated version detection</strong> &mdash; flags Zod v3 when v4 is available, suggests Yup/Joi&rarr;Zod migration</li>
          <li><strong>Form library compatibility</strong> &mdash; detects react-hook-form + yup and suggests resolver migration</li>
          <li><strong>Ecosystem dependency checks</strong> &mdash; identifies drizzle-zod, tRPC, and other packages that may need updating</li>
          <li><strong>Config validation</strong> &mdash; checks <code>.schemashiftrc.json</code> for issues</li>
          <li><strong>Actionable suggestions</strong> &mdash; provides runnable SchemaShift commands based on detected state</li>
        </ul>

        <p>Example output:</p>
        <pre><code><span class="cmd">schemashift doctor</span>

<span style="color: var(--green)">✓</span> package.json found
<span style="color: var(--yellow)">!</span> Zod v3.22.0 detected &mdash; v4 available
<span style="color: var(--green)">✓</span> No form library issues
<span style="color: var(--accent)">i</span> Suggestion: schemashift migrate . -f zod-v3 -t v4</code></pre>

        <h2 id="verify">verify</h2>
        <p>
          Contract testing &mdash; verify migrated schemas match originals.
          <span class="badge">Pro+</span>
        </p>
        <pre><code><span class="cmd">schemashift verify</span> &lt;path&gt; <span class="flag">-f</span> &lt;library&gt; <span class="flag">-t</span> &lt;library&gt; [options]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>-f, --from</code></td>
              <td>Source schema library</td>
            </tr>
            <tr>
              <td><code>-t, --to</code></td>
              <td>Target schema library</td>
            </tr>
            <tr>
              <td><code>--samples &lt;count&gt;</code></td>
              <td>Number of test samples to generate (default: 50)</td>
            </tr>
            <tr>
              <td><code>--json</code></td>
              <td>Output as JSON</td>
            </tr>
          </tbody>
        </table>

        <p>The verify command:</p>
        <ol>
          <li>Extracts schema names from source files (supports Zod, Yup, Joi, Valibot patterns)</li>
          <li>Generates test samples (valid + invalid boundary data) based on schema structure</li>
          <li>Validates samples through both source and target schemas</li>
          <li>Reports parity score with detailed mismatch information</li>
        </ol>

        <pre><code><span class="cmd">schemashift verify</span> ./src <span class="flag">-f</span> yup <span class="flag">-t</span> zod <span class="flag">--samples</span> 100</code></pre>

        <h2 id="compare">compare</h2>
        <p>
          Side-by-side schema comparison showing how source maps to target.
          <span class="badge">Individual+</span>
        </p>
        <pre><code><span class="cmd">schemashift compare</span> &lt;path&gt; <span class="flag">-f</span> &lt;library&gt; <span class="flag">-t</span> &lt;library&gt; [<span class="flag">--json</span>]</code></pre>

        <h2 id="hooks">hooks</h2>
        <p>
          Manage pre-commit hook integration for governance checks.
          <span class="badge">Pro+</span>
        </p>
        <pre><code><span class="cmd">schemashift hooks</span> &lt;install|uninstall|status&gt;</code></pre>

        <table>
          <thead>
            <tr>
              <th>Subcommand</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>install</code></td>
              <td>Detect husky/lint-staged and add governance check hook</td>
            </tr>
            <tr>
              <td><code>uninstall</code></td>
              <td>Remove SchemaShift git hooks</td>
            </tr>
            <tr>
              <td><code>status</code></td>
              <td>Show current hook configuration</td>
            </tr>
          </tbody>
        </table>

        <h2 id="policy">policy</h2>
        <p>
          Policy-as-code management for schema governance.
          <span class="badge">Team</span>
        </p>
        <pre><code><span class="cmd">schemashift policy</span> &lt;init|check|list&gt; [path]</code></pre>

        <table>
          <thead>
            <tr>
              <th>Subcommand</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>init</code></td>
              <td>Generate a policy file from governance templates</td>
            </tr>
            <tr>
              <td><code>check &lt;path&gt;</code></td>
              <td>Run governance checks with active policies</td>
            </tr>
            <tr>
              <td><code>list</code></td>
              <td>Show available governance templates with categories</td>
            </tr>
          </tbody>
        </table>

        <p>Examples:</p>
        <pre><code><span class="comment"># Initialize policies from templates</span>
<span class="cmd">schemashift policy</span> init

<span class="comment"># Check project against policies</span>
<span class="cmd">schemashift policy</span> check ./src

<span class="comment"># List available governance templates</span>
<span class="cmd">schemashift policy</span> list</code></pre>

        <!-- MIGRATIONS -->
        <h2 id="yup-to-zod">Yup → Zod</h2>
        <p><strong>Available in: Free, Individual, Pro, Team</strong></p>

        <p>Transforms Yup schemas to Zod equivalents:</p>
        <pre><code><span class="comment">// Before (Yup)</span>
import * as yup from <span class="string">'yup'</span>;

const userSchema = yup.object({
  name: yup.string().required(),
  email: yup.string().email().required(),
  age: yup.number().positive().optional(),
});

<span class="comment">// After (Zod)</span>
import { z } from <span class="string">'zod'</span>;

const userSchema = z.object({
  name: z.string(),
  email: z.string().email(),
  age: z.number().positive().optional(),
});</code></pre>

        <h3>Mapping Reference</h3>
        <table>
          <thead>
            <tr>
              <th>Yup</th>
              <th>Zod</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>yup.string()</code></td>
              <td><code>z.string()</code></td>
            </tr>
            <tr>
              <td><code>yup.number()</code></td>
              <td><code>z.number()</code></td>
            </tr>
            <tr>
              <td><code>yup.boolean()</code></td>
              <td><code>z.boolean()</code></td>
            </tr>
            <tr>
              <td><code>yup.date()</code></td>
              <td><code>z.date()</code></td>
            </tr>
            <tr>
              <td><code>yup.array()</code></td>
              <td><code>z.array()</code></td>
            </tr>
            <tr>
              <td><code>yup.object()</code></td>
              <td><code>z.object()</code></td>
            </tr>
            <tr>
              <td><code>.required()</code></td>
              <td>(default in Zod)</td>
            </tr>
            <tr>
              <td><code>.optional()</code></td>
              <td><code>.optional()</code></td>
            </tr>
            <tr>
              <td><code>.nullable()</code></td>
              <td><code>.nullable()</code></td>
            </tr>
            <tr>
              <td><code>.min(n)</code></td>
              <td><code>.min(n)</code></td>
            </tr>
            <tr>
              <td><code>.max(n)</code></td>
              <td><code>.max(n)</code></td>
            </tr>
            <tr>
              <td><code>.email()</code></td>
              <td><code>.email()</code></td>
            </tr>
            <tr>
              <td><code>.url()</code></td>
              <td><code>.url()</code></td>
            </tr>
            <tr>
              <td><code>.oneOf([...])</code></td>
              <td><code>z.enum([...])</code></td>
            </tr>
            <tr>
              <td><code>.mixed()</code></td>
              <td><code>z.unknown()</code></td>
            </tr>
            <tr>
              <td><code>.isTrue()</code></td>
              <td><code>z.literal(true)</code></td>
            </tr>
            <tr>
              <td><code>.isFalse()</code></td>
              <td><code>z.literal(false)</code></td>
            </tr>
          </tbody>
        </table>

        <div class="callout callout-warning">
          <div class="callout-title">Note</div>
          <p>
            Yup's <code>.test()</code> custom validators become Zod's
            <code>.refine()</code>. Review these manually for correctness.
          </p>
        </div>

        <h2 id="joi-to-zod">Joi → Zod</h2>
        <p><strong>Available in: Free, Individual, Pro, Team</strong></p>

        <pre><code><span class="comment">// Before (Joi)</span>
import Joi from <span class="string">'joi'</span>;

const schema = Joi.object({
  username: Joi.string().alphanum().min(3).max(30).required(),
  email: Joi.string().email(),
  website: Joi.string().uri(),
});

<span class="comment">// After (Zod)</span>
import { z } from <span class="string">'zod'</span>;

const schema = z.object({
  username: z.string().regex(/^[a-zA-Z0-9]+$/).min(3).max(30),
  email: z.string().email().optional(),
  website: z.string().url().optional(),
});</code></pre>

        <h3>Mapping Reference</h3>
        <table>
          <thead>
            <tr>
              <th>Joi</th>
              <th>Zod</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Joi.string()</code></td>
              <td><code>z.string()</code></td>
            </tr>
            <tr>
              <td><code>Joi.number()</code></td>
              <td><code>z.number()</code></td>
            </tr>
            <tr>
              <td><code>Joi.boolean()</code></td>
              <td><code>z.boolean()</code></td>
            </tr>
            <tr>
              <td><code>Joi.date()</code></td>
              <td><code>z.date()</code></td>
            </tr>
            <tr>
              <td><code>Joi.array()</code></td>
              <td><code>z.array()</code></td>
            </tr>
            <tr>
              <td><code>Joi.object()</code></td>
              <td><code>z.object()</code></td>
            </tr>
            <tr>
              <td><code>.required()</code></td>
              <td>(default in Zod)</td>
            </tr>
            <tr>
              <td><code>.optional()</code></td>
              <td><code>.optional()</code></td>
            </tr>
            <tr>
              <td><code>.allow(null)</code></td>
              <td><code>.nullable()</code></td>
            </tr>
            <tr>
              <td><code>.alphanum()</code></td>
              <td><code>.regex(/^[a-zA-Z0-9]+$/)</code></td>
            </tr>
            <tr>
              <td><code>.email()</code></td>
              <td><code>.email()</code></td>
            </tr>
            <tr>
              <td><code>.uri()</code></td>
              <td><code>.url()</code></td>
            </tr>
            <tr>
              <td><code>.valid(...)</code></td>
              <td><code>z.enum([...])</code></td>
            </tr>
            <tr>
              <td><code>.any()</code></td>
              <td><code>z.unknown()</code></td>
            </tr>
          </tbody>
        </table>

        <div class="callout callout-warning">
          <div class="callout-title">Note</div>
          <p>
            Joi's <code>.when()</code> conditional validation requires manual
            conversion using <code>.refine()</code> or discriminated unions.
          </p>
        </div>

        <h2 id="zod-v3-to-v4">Zod v3 → v4</h2>
        <p><strong>Available in: Individual, Pro, Team</strong></p>

        <p>Handles breaking changes between Zod v3 and v4:</p>
        <pre><code><span class="comment">// Before (Zod v3)</span>
const schema = z.record(z.number());
const result = schema.safeParse(data);
if (!result.success) {
  console.log(result.error.errors);
}

<span class="comment">// After (Zod v4)</span>
const schema = z.record(z.string(), z.number());
const result = schema.safeParse(data);
if (!result.success) {
  console.log(result.error.issues);
}</code></pre>

        <h3>Breaking Changes Handled</h3>
        <table>
          <thead>
            <tr>
              <th>v3</th>
              <th>v4</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>z.record(valueSchema)</code></td>
              <td><code>z.record(z.string(), valueSchema)</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>error.errors</code></td>
              <td><code>error.issues</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>.merge(other)</code></td>
              <td><code>.extend(other.shape)</code></td>
              <td>Auto-transformed + warning</td>
            </tr>
            <tr>
              <td><code>z.nativeEnum(X)</code></td>
              <td><code>z.enum(X)</code></td>
              <td>Auto-transformed + warning</td>
            </tr>
            <tr>
              <td><code>.superRefine()</code></td>
              <td><code>.check()</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>.strict()</code></td>
              <td><code>z.strictObject()</code></td>
              <td>Deprecation warning</td>
            </tr>
            <tr>
              <td><code>.passthrough()</code></td>
              <td><code>z.looseObject()</code></td>
              <td>Deprecation warning</td>
            </tr>
            <tr>
              <td><code>.pipe()</code></td>
              <td><code>.pipe()</code> (stricter)</td>
              <td>Behavior warning</td>
            </tr>
            <tr>
              <td><code>invalid_type_error / required_error</code></td>
              <td>Unified <code>error</code> param</td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>instanceof Error</code> on ZodError</td>
              <td>ZodError no longer extends Error</td>
              <td>Runtime warning</td>
            </tr>
            <tr>
              <td><code>.refine().transform()</code></td>
              <td><code>.transform()</code> runs even if refine fails</td>
              <td>Runtime warning</td>
            </tr>
            <tr>
              <td><code>.default().optional()</code></td>
              <td><code>.optional()</code> is effectively a no-op</td>
              <td>Runtime warning</td>
            </tr>
            <tr>
              <td><code>error.flatten()</code></td>
              <td><code>z.flattenError(error)</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>error.format()</code></td>
              <td><code>z.treeifyError(error)</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>schema._def.typeName</code></td>
              <td><code>schema._zod.def.typeName</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>ctx.addIssue()</code> in <code>.superRefine()</code></td>
              <td><code>ctx.issues.push()</code> in <code>.check()</code></td>
              <td>Auto-transformed</td>
            </tr>
            <tr>
              <td><code>.catch() + .optional()</code></td>
              <td><code>.catch()</code> catches all issues, <code>.optional()</code> is no-op</td>
              <td>Runtime warning</td>
            </tr>
            <tr>
              <td><code>ZodType</code>, <code>ZodSchema</code> imports</td>
              <td>Moved to <code>zod/v4/core</code></td>
              <td>Import warning</td>
            </tr>
            <tr>
              <td><code>.strip()</code></td>
              <td>Removed (default behavior in v4)</td>
              <td>Auto-removed</td>
            </tr>
            <tr>
              <td><code>z.preprocess(fn, schema)</code></td>
              <td><code>z.pipe(z.unknown(), z.transform(fn), schema)</code></td>
              <td>Auto-transformed</td>
            </tr>
          </tbody>
        </table>
        <p style="margin-top: 1rem; color: var(--muted);">Zod v4 also delivers up to 14x faster parsing performance. See the <a href="https://zod.dev/v4/changelog" style="color: var(--accent);">Zod v4 changelog</a> for the full list of changes.</p>

        <h2 id="io-ts-to-zod">io-ts → Zod</h2>
        <p><strong>Available in: Pro, Team</strong></p>

        <pre><code><span class="comment">// Before (io-ts)</span>
import * as t from <span class="string">'io-ts'</span>;

const User = t.type({
  name: t.string,
  age: t.number,
  email: t.union([t.string, t.undefined]),
});

<span class="comment">// After (Zod)</span>
import { z } from <span class="string">'zod'</span>;

const User = z.object({
  name: z.string(),
  age: z.number(),
  email: z.string().optional(),
});</code></pre>

        <div class="callout callout-warning">
          <div class="callout-title">Manual Review Required</div>
          <p>
            io-ts uses fp-ts patterns (Either, pipe) that don't translate
            directly. Review <code>decode()</code> calls and error handling
            after migration.
          </p>
        </div>

        <h2 id="zod-valibot">Zod ↔ Valibot</h2>
        <p><strong>Available in: Pro, Team</strong></p>
        <p>Convert between Zod and Valibot schemas:</p>
        <pre><code><span class="comment"># Zod to Valibot</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> zod <span class="flag">--to</span> valibot

<span class="comment"># Valibot to Zod</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> valibot <span class="flag">--to</span> zod</code></pre>

        <h3>Key Mappings</h3>
        <table>
          <thead>
            <tr>
              <th>Zod</th>
              <th>Valibot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>z.string()</code></td>
              <td><code>v.string()</code></td>
            </tr>
            <tr>
              <td><code>z.object({...})</code></td>
              <td><code>v.object({...})</code></td>
            </tr>
            <tr>
              <td><code>z.enum([...])</code></td>
              <td><code>v.picklist([...])</code></td>
            </tr>
            <tr>
              <td><code>.min(n)</code></td>
              <td><code>v.pipe(schema, v.minLength(n))</code></td>
            </tr>
            <tr>
              <td><code>.optional()</code></td>
              <td><code>v.optional(schema)</code></td>
            </tr>
            <tr>
              <td><code>.nullable()</code></td>
              <td><code>v.nullable(schema)</code></td>
            </tr>
            <tr>
              <td><code>.refine(fn)</code></td>
              <td><code>v.check(fn)</code></td>
            </tr>
            <tr>
              <td><code>.nanoid()</code></td>
              <td><code>v.pipe(schema, v.nanoid())</code></td>
            </tr>
            <tr>
              <td><code>.base64()</code></td>
              <td><code>v.pipe(schema, v.base64())</code></td>
            </tr>
            <tr>
              <td><code>.hexColor()</code></td>
              <td><code>v.pipe(schema, v.hexColor())</code></td>
            </tr>
          </tbody>
        </table>
        <div class="callout callout-warning">
          <div class="callout-title">Note</div>
          <p>
            Valibot uses a functional pipe-based API rather than method chaining.
            Complex Zod schemas with deep chaining may need manual adjustment
            after migration. Valibot v1 added many new validators (nanoid, base64, hexColor, isoWeek, and more) that are now supported.
          </p>
        </div>

        <h2 id="zod-to-yup">Zod → Yup (Backward Migration)</h2>
        <p><strong>Available in: Pro, Team</strong></p>
        <p>AST-based backward migration converting Zod schemas to Yup equivalents:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> zod <span class="flag">--to</span> yup</code></pre>
        <pre><code><span class="comment">// Before (Zod)</span>
import { z } from <span class="string">'zod'</span>;

const userSchema = z.object({
  name: z.string(),
  email: z.string().email(),
  age: z.number().positive().optional(),
});

<span class="comment">// After (Yup)</span>
import * as yup from <span class="string">'yup'</span>;

const userSchema = yup.object({
  name: yup.string().required(),
  email: yup.string().email().required(),
  age: yup.number().positive().notRequired(),
});</code></pre>

        <h2 id="valibot-to-zod">Valibot → Zod (Backward Migration)</h2>
        <p><strong>Available in: Pro, Team</strong></p>
        <p>Text-based backward migration converting Valibot schemas to Zod:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> valibot <span class="flag">--to</span> zod</code></pre>
        <pre><code><span class="comment">// Before (Valibot)</span>
import * as v from <span class="string">'valibot'</span>;

const productSchema = v.object({
  name: v.pipe(v.string(), v.minLength(1)),
  price: v.pipe(v.number(), v.minValue(0)),
  status: v.picklist([<span class="string">'active'</span>, <span class="string">'archived'</span>]),
});

<span class="comment">// After (Zod)</span>
import { z } from <span class="string">'zod'</span>;

const productSchema = z.object({
  name: z.string().min(1),
  price: z.number().min(0),
  status: z.enum([<span class="string">'active'</span>, <span class="string">'archived'</span>]),
});</code></pre>

        <!-- ZOD ↔ ARKTYPE -->
        <h2 id="zod-arktype">Zod ↔ ArkType</h2>
        <p class="tier-badge">Pro+</p>
        <p>Bidirectional migration between Zod and ArkType. ArkType uses a string-based syntax that is fundamentally different from Zod's fluent API.</p>
        <table>
          <thead>
            <tr><th>Zod</th><th>ArkType</th></tr>
          </thead>
          <tbody>
            <tr><td><code>z.object({ name: z.string() })</code></td><td><code>type({ name: "string" })</code></td></tr>
            <tr><td><code>z.string().email()</code></td><td><code>type("string.email")</code></td></tr>
            <tr><td><code>z.number().integer()</code></td><td><code>type("integer")</code></td></tr>
            <tr><td><code>z.union([z.string(), z.number()])</code></td><td><code>type("string | number")</code></td></tr>
            <tr><td><code>z.array(z.string())</code></td><td><code>type("string[]")</code></td></tr>
            <tr><td><code>z.infer&lt;typeof schema&gt;</code></td><td><code>Type&lt;typeof schema&gt;</code></td></tr>
          </tbody>
        </table>

        <!-- ZOD ↔ SUPERSTRUCT -->
        <h2 id="zod-superstruct">Zod ↔ Superstruct</h2>
        <p class="tier-badge">Pro+</p>
        <p>Bidirectional migration between Zod and Superstruct. Superstruct uses bare function calls without a namespace prefix.</p>
        <table>
          <thead>
            <tr><th>Zod</th><th>Superstruct</th></tr>
          </thead>
          <tbody>
            <tr><td><code>z.object({ name: z.string() })</code></td><td><code>object({ name: string() })</code></td></tr>
            <tr><td><code>z.string()</code></td><td><code>string()</code></td></tr>
            <tr><td><code>z.number()</code></td><td><code>number()</code></td></tr>
            <tr><td><code>z.enum(["a", "b"])</code></td><td><code>enums(["a", "b"])</code></td></tr>
            <tr><td><code>z.string().optional()</code></td><td><code>optional(string())</code></td></tr>
            <tr><td><code>z.number().int()</code></td><td><code>integer()</code></td></tr>
            <tr><td><code>z.infer&lt;typeof schema&gt;</code></td><td><code>Infer&lt;typeof schema&gt;</code></td></tr>
          </tbody>
        </table>

        <!-- IO-TS → EFFECT SCHEMA -->
        <h2 id="io-ts-effect">io-ts → Effect Schema</h2>
        <p class="tier-badge">Pro+</p>
        <p>Migrate io-ts codecs to Effect Schema. This is the successor path for io-ts users since fp-ts merged into Effect.</p>
        <table>
          <thead>
            <tr><th>io-ts</th><th>Effect Schema</th></tr>
          </thead>
          <tbody>
            <tr><td><code>t.string</code></td><td><code>S.String</code></td></tr>
            <tr><td><code>t.number</code></td><td><code>S.Number</code></td></tr>
            <tr><td><code>t.boolean</code></td><td><code>S.Boolean</code></td></tr>
            <tr><td><code>t.type({ name: t.string })</code></td><td><code>S.Struct({ name: S.String })</code></td></tr>
            <tr><td><code>t.array(t.string)</code></td><td><code>S.Array(S.String)</code></td></tr>
            <tr><td><code>t.union([A, B])</code></td><td><code>S.Union(A, B)</code></td></tr>
            <tr><td><code>t.TypeOf&lt;typeof schema&gt;</code></td><td><code>S.Schema.Type&lt;typeof schema&gt;</code></td></tr>
          </tbody>
        </table>
        <p>fp-ts imports are automatically rewritten to Effect equivalents (e.g., <code>pipe</code> from <code>effect/Function</code>).</p>

        <!-- TYPE HELPER MIGRATION -->
        <h2 id="type-helpers">Type Helper Migration</h2>
        <p>SchemaShift automatically converts type inference helpers when migrating between libraries:</p>
        <table>
          <thead>
            <tr>
              <th>Source</th>
              <th>Target</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>yup.InferType&lt;typeof schema&gt;</code></td>
              <td><code>z.infer&lt;typeof schema&gt;</code></td>
            </tr>
            <tr>
              <td><code>Joi.extractType&lt;typeof schema&gt;</code></td>
              <td><code>z.infer&lt;typeof schema&gt;</code></td>
            </tr>
            <tr>
              <td><code>t.TypeOf&lt;typeof schema&gt;</code></td>
              <td><code>z.infer&lt;typeof schema&gt;</code></td>
            </tr>
            <tr>
              <td><code>t.OutputOf&lt;typeof schema&gt;</code></td>
              <td><code>z.output&lt;typeof schema&gt;</code></td>
            </tr>
            <tr>
              <td><code>z.infer&lt;typeof schema&gt;</code></td>
              <td><code>v.InferOutput&lt;typeof schema&gt;</code></td>
            </tr>
            <tr>
              <td><code>z.input&lt;typeof schema&gt;</code></td>
              <td><code>v.InferInput&lt;typeof schema&gt;</code></td>
            </tr>
          </tbody>
        </table>

        <!-- FORM LIBRARY COMPATIBILITY -->
        <h2 id="form-libraries">Form Library Compatibility</h2>
        <p>SchemaShift detects form library imports and warns you to update resolvers/adapters after migration:</p>
        <table>
          <thead>
            <tr>
              <th>Form Library</th>
              <th>Detected Imports</th>
              <th>Action Needed</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>react-hook-form</td>
              <td><code>react-hook-form</code>, <code>@hookform/resolvers/*</code></td>
              <td>Switch resolver (e.g. <code>@hookform/resolvers/zod</code>)</td>
            </tr>
            <tr>
              <td>Formik</td>
              <td><code>formik</code></td>
              <td>Update validation adapter to match target library</td>
            </tr>
            <tr>
              <td>Mantine Form</td>
              <td><code>@mantine/form</code></td>
              <td>Update <code>zodResolver</code> or equivalent for target library</td>
            </tr>
          </tbody>
        </table>

        <div class="callout callout-info">
          <div class="callout-title">Automatic Resolver Migration</div>
          <p>
            <strong>Individual+ tiers</strong> include automatic form resolver migration:
            <code>yupResolver</code> &rarr; <code>zodResolver</code>,
            <code>joiResolver</code> &rarr; <code>zodResolver</code>,
            <code>zodResolver</code> &rarr; <code>valibotResolver</code>
            imports are rewritten automatically during migration. No manual import changes needed.
          </p>
        </div>

        <!-- CONFIGURATION -->
        <h2 id="config-file">Config File</h2>
        <p>Create <code>.schemashiftrc.json</code> in your project root:</p>
        <pre><code>{
  <span class="string">"include"</span>: [<span class="string">"src/**/*.ts"</span>, <span class="string">"src/**/*.tsx"</span>],
  <span class="string">"exclude"</span>: [
    <span class="string">"**/node_modules/**"</span>,
    <span class="string">"**/dist/**"</span>,
    <span class="string">"**/*.d.ts"</span>,
    <span class="string">"**/*.test.ts"</span>
  ],
  <span class="string">"backup"</span>: {
    <span class="string">"enabled"</span>: true,
    <span class="string">"dir"</span>: <span class="string">".schemashift-backup"</span>
  },
  <span class="string">"git"</span>: {
    <span class="string">"enabled"</span>: false,
    <span class="string">"createBranch"</span>: true,
    <span class="string">"branchPrefix"</span>: <span class="string">"schemashift/"</span>,
    <span class="string">"autoCommit"</span>: false,
    <span class="string">"commitMessage"</span>: <span class="string">"chore: migrate schemas with SchemaShift"</span>
  },
  <span class="string">"customRules"</span>: []
}</code></pre>

        <h3>Options</h3>
        <table>
          <thead>
            <tr>
              <th>Option</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>include</code></td>
              <td>string[]</td>
              <td>Glob patterns for files to include</td>
            </tr>
            <tr>
              <td><code>exclude</code></td>
              <td>string[]</td>
              <td>Glob patterns for files to exclude</td>
            </tr>
            <tr>
              <td><code>backup.enabled</code></td>
              <td>boolean</td>
              <td>Create backups before migration</td>
            </tr>
            <tr>
              <td><code>backup.dir</code></td>
              <td>string</td>
              <td>Backup directory path</td>
            </tr>
            <tr>
              <td><code>git.enabled</code></td>
              <td>boolean</td>
              <td>Enable git integration</td>
            </tr>
            <tr>
              <td><code>git.createBranch</code></td>
              <td>boolean</td>
              <td>Create branch for changes</td>
            </tr>
            <tr>
              <td><code>git.branchPrefix</code></td>
              <td>string</td>
              <td>Branch name prefix</td>
            </tr>
            <tr>
              <td><code>git.autoCommit</code></td>
              <td>boolean</td>
              <td>Auto-commit after migration</td>
            </tr>
            <tr>
              <td><code>git.commitMessage</code></td>
              <td>string</td>
              <td>Commit message template</td>
            </tr>
            <tr>
              <td><code>customRules</code></td>
              <td>array</td>
              <td>Custom transformation rules</td>
            </tr>
          </tbody>
        </table>

        <h2 id="custom-rules">Custom Rules</h2>
        <p>Define custom transformation rules in your config:</p>
        <pre><code>{
  <span class="string">"customRules"</span>: [
    {
      <span class="string">"name"</span>: <span class="string">"company-validator"</span>,
      <span class="string">"match"</span>: <span class="string">"yup.string().companyId()"</span>,
      <span class="string">"replace"</span>: <span class="string">"z.string().regex(/^CMP-[0-9]+$/)"</span>
    }
  ]
}</code></pre>

        <h2 id="governance-config">Governance Configuration</h2>
        <p>
          Configure schema governance rules in your config file
          (<span class="badge">Team</span>):
        </p>
        <pre><code>{
  <span class="string">"governance"</span>: {
    <span class="string">"rules"</span>: {
      <span class="string">"naming-convention"</span>: { <span class="string">"pattern"</span>: <span class="string">".*Schema$"</span> },
      <span class="string">"max-complexity"</span>: { <span class="string">"threshold"</span>: 80 },
      <span class="string">"no-any"</span>: {},
      <span class="string">"required-validations"</span>: {}
    },
    <span class="string">"failOnViolation"</span>: true
  }
}</code></pre>
        <p>Built-in rules:</p>
        <table>
          <thead>
            <tr>
              <th>Rule</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>naming-convention</code></td>
              <td>
                Schemas must match a regex pattern (default:
                <code>.*Schema$</code>)
              </td>
            </tr>
            <tr>
              <td><code>max-complexity</code></td>
              <td>Reject schemas above a complexity score threshold</td>
            </tr>
            <tr>
              <td><code>no-any</code></td>
              <td>
                Disallow <code>z.any()</code> and equivalents (severity: error)
              </td>
            </tr>
            <tr>
              <td><code>required-validations</code></td>
              <td>
                String schemas must include <code>.max()</code> for length safety
              </td>
            </tr>
          </tbody>
        </table>
        <div class="callout callout-info">
          <div class="callout-title">Security</div>
          <p>
            Regex patterns in governance rules (e.g., <code>naming-convention</code>) are protected against
            ReDoS attacks. Patterns longer than 500 characters are rejected, and invalid patterns fail
            safely without crashing the process.
          </p>
        </div>

        <h2 id="plugins-config">Plugin Configuration</h2>
        <p>
          Load custom plugins from npm packages or local files
          (<span class="badge">Team</span>):
        </p>
        <pre><code>{
  <span class="string">"plugins"</span>: [<span class="string">"./my-plugin.js"</span>, <span class="string">"@my-org/schemashift-plugin"</span>]
}</code></pre>
        <p>
          Plugins export a <code>SchemaShiftPlugin</code> interface with
          optional transform handlers and custom rules. See the
          <a href="https://github.com/qwady/schemashift">GitHub repo</a> for
          plugin development documentation.
        </p>

        <!-- ADVANCED FEATURES -->
        <h2 id="advanced-analysis">Advanced Analysis</h2>
        <p>
          Analyze schema complexity and migration readiness
          (<span class="badge">Individual+</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--detailed</span>
<span class="cmd">schemashift analyze</span> ./src <span class="flag">--readiness</span> yup-&gt;zod
<span class="cmd">schemashift analyze</span> ./src <span class="flag">--complexity</span> <span class="flag">--json</span></code></pre>
        <p>
          Complexity scoring considers chain length, nesting depth, and
          validation count. Scores are rated as
          <strong>low</strong> (0-25), <strong>medium</strong> (26-50),
          <strong>high</strong> (51-75), or <strong>critical</strong> (76-100).
        </p>

        <h2 id="risk-scoring">Risk Scoring</h2>
        <p>
          Each migrated file receives a risk score based on warnings, errors, and
          manual review items (<span class="badge">Individual+</span>). Use
          <code>--max-risk-score</code> in CI to enforce quality thresholds:
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--ci</span> <span class="flag">--max-risk-score</span> 50</code></pre>
        <p>Export risk data for project tracking:</p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--report</span> csv</code></pre>

        <h2 id="cross-file">Cross-File Resolution</h2>
        <p>
          Resolve schema imports across files and transform in dependency order
          (<span class="badge">Pro+</span>):
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--cross-file</span></code></pre>
        <p>
          SchemaShift builds a dependency graph, detects circular dependencies,
          and applies transformations in topologically sorted order.
        </p>

        <h2 id="chain-migrations">Chain Migrations</h2>
        <p>
          Perform multi-step migrations in a single command
          (<span class="badge">Pro+</span>):
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--chain</span> yup-&gt;zod-&gt;valibot</code></pre>
        <p>
          Each step validates intermediate output before proceeding. Combined
          reports include all steps. Use instead of <code>--from</code> /
          <code>--to</code>.
        </p>

        <h2 id="ecosystem-detection">Ecosystem Detection</h2>
        <p>
          SchemaShift detects third-party packages in your project that may break
          or need updates during migration
          (<span class="badge">Pro+</span>):
        </p>
        <p>
          When you run <code>--compat-check</code>, SchemaShift automatically
          scans your <code>package.json</code> for ecosystem dependencies and
          reports compatibility issues before migration begins.
        </p>

        <table>
          <thead>
            <tr>
              <th>Package</th>
              <th>Affected Migration</th>
              <th>Issue</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>drizzle-zod</code></td>
              <td>zod-v3 → v4</td>
              <td>Needs v4-compatible version</td>
            </tr>
            <tr>
              <td><code>@trpc/server</code> v10</td>
              <td>zod-v3 → v4</td>
              <td>tRPC v10 expects Zod v3 types</td>
            </tr>
            <tr>
              <td><code>zod-validation-error</code></td>
              <td>zod-v3 → v4</td>
              <td>Must upgrade to v5.0.0+</td>
            </tr>
            <tr>
              <td><code>@hookform/resolvers</code></td>
              <td>any → zod, zod-v3 → v4</td>
              <td>Resolver version must match schema lib</td>
            </tr>
            <tr>
              <td><code>zod-openapi</code></td>
              <td>zod-v3 → v4</td>
              <td>Needs v4-compatible version</td>
            </tr>
            <tr>
              <td><code>zod-prisma</code></td>
              <td>zod-v3 → v4</td>
              <td>Generated schemas may need regeneration</td>
            </tr>
            <tr>
              <td><code>formik</code></td>
              <td>yup → zod</td>
              <td>Must switch form adapter</td>
            </tr>
            <tr>
              <td><code>@mantine/form</code></td>
              <td>yup → zod</td>
              <td>Must switch schema adapter</td>
            </tr>
            <tr>
              <td><code>@asteasolutions/zod-to-openapi</code></td>
              <td>zod-v3 → v4</td>
              <td>Needs v4-compatible version</td>
            </tr>
            <tr>
              <td><code>trpc-ui</code></td>
              <td>zod-v3 → v4</td>
              <td>Breaks with v4 schemas</td>
            </tr>
          </tbody>
        </table>

        <pre><code><span class="comment"># Run ecosystem detection as part of compat check</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> zod-v3 <span class="flag">--to</span> v4 <span class="flag">--compat-check</span>

<span class="comment"># Or standalone compatibility check</span>
<span class="cmd">schemashift compat</span> ./src</code></pre>

        <h2 id="standard-schema">Standard Schema</h2>
        <p>
          SchemaShift detects
          <a href="https://github.com/standard-schema/standard-schema">Standard Schema</a>
          1.0 compatible libraries in your project. This helps you understand
          interoperability options between schema libraries.
        </p>
        <p>
          Compatible libraries include Zod v3.23+, Valibot v1+, ArkType v2+,
          @effect/schema, and TypeBox v0.34+. Detection is included in the
          <code>analyze</code> command output (FREE tier).
        </p>

        <h2 id="form-resolver-migration">Form Resolver Migration</h2>
        <p>
          SchemaShift automatically rewrites form resolver imports during migration
          (<span class="badge">Individual+</span>):
        </p>
        <table>
          <thead>
            <tr>
              <th>Migration</th>
              <th>Before</th>
              <th>After</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>yup → zod</td>
              <td><code>import { yupResolver } from '@hookform/resolvers/yup'</code></td>
              <td><code>import { zodResolver } from '@hookform/resolvers/zod'</code></td>
            </tr>
            <tr>
              <td>joi → zod</td>
              <td><code>import { joiResolver } from '@hookform/resolvers/joi'</code></td>
              <td><code>import { zodResolver } from '@hookform/resolvers/zod'</code></td>
            </tr>
            <tr>
              <td>zod → valibot</td>
              <td><code>import { zodResolver } from '@hookform/resolvers/zod'</code></td>
              <td><code>import { valibotResolver } from '@hookform/resolvers/valibot'</code></td>
            </tr>
          </tbody>
        </table>
        <p style="margin-top: 1rem; color: var(--muted);">
          For Formik and @mantine/form, TODO comments are added with guidance since those require manual adapter changes.
        </p>

        <h2 id="complexity-estimation">Complexity Estimation</h2>
        <p>
          Get pre-migration effort estimates before transforming any code
          (<span class="badge">Individual+</span>):
        </p>
        <p>
          The complexity estimator analyzes your schema files and produces an effort level
          for each file: <strong>trivial</strong>, <strong>low</strong>, <strong>moderate</strong>,
          <strong>high</strong>, or <strong>extreme</strong>. It detects advanced patterns
          (branded types, recursive schemas, custom validators), performance risks, and
          provides risk area summaries.
        </p>
        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            Run complexity estimation before migration to identify files that may need
            manual review. Focus on "high" and "extreme" files first.
          </p>
        </div>

        <h2 id="todo-summary">TODO Resolution Summary</h2>
        <p>
          After migration, SchemaShift scans all generated <code>TODO(schemashift)</code>
          comments and produces a categorized summary (<span class="badge" style="background: var(--green)">Free</span>):
        </p>
        <ul>
          <li><strong>branded-types</strong> &mdash; io-ts branded type patterns needing manual conversion</li>
          <li><strong>io-ts-codecs</strong> &mdash; Codec/decoder patterns with Either monad handling</li>
          <li><strong>fp-ts-patterns</strong> &mdash; Functional programming patterns from fp-ts</li>
          <li><strong>form-migration</strong> &mdash; Form library adapter changes needed</li>
          <li><strong>custom-validation</strong> &mdash; Custom validators requiring manual review</li>
          <li><strong>manual-review</strong> &mdash; General patterns needing human judgment</li>
        </ul>
        <p style="margin-top: 1rem;">
          Each category includes a resolution guide with specific steps to complete the migration.
        </p>

        <h2 id="monorepo-migration">Monorepo-Aware Migration</h2>
        <p>
          SchemaShift detects monorepo workspace configurations and suggests
          migration order (<span class="badge">Pro+</span>):
        </p>
        <ul>
          <li>Detects npm, Yarn, and pnpm workspaces from <code>package.json</code></li>
          <li>Identifies which schema library each package uses</li>
          <li>Produces a topologically sorted migration order based on inter-package dependencies</li>
          <li>Ensures leaf packages migrate before dependents to prevent breakage</li>
        </ul>
        <div class="callout callout-warning">
          <div class="callout-title">Note</div>
          <p>
            Monorepo detection reads workspace globs from your root <code>package.json</code>.
            Ensure your workspace configuration is up to date before running detection.
          </p>
        </div>

        <h2 id="behavioral-warnings">Behavioral Warnings</h2>
        <p>
          Detect behavioral differences between schema libraries before migration
          (<span class="badge" style="background: var(--green)">Free</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--behavioral</span> yup-&gt;zod</code></pre>
        <p>
          Identifies coercion differences (e.g., Yup auto-coerces strings to numbers, Zod does not),
          validation order changes, and error format differences. Warnings are grouped by category
          with severity levels to help you prepare for migration.
        </p>

        <h2 id="bundle-estimation">Bundle Size Estimation</h2>
        <p>
          Estimate the bundle size impact of switching schema libraries
          (<span class="badge">Individual+</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--bundle</span> zod-&gt;valibot</code></pre>
        <p>
          Compares minified+gzipped library sizes and reports the estimated delta in kB and
          percentage. Useful for understanding the size impact before committing to a migration.
        </p>

        <h2 id="performance-analysis">Performance Impact Analysis</h2>
        <p>
          Identify potential performance changes from your migration
          (<span class="badge">Individual+</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--performance</span> zod-v3-&gt;v4</code></pre>
        <p>
          Reports validation speed differences, parse vs safeParse overhead, and runtime behavior
          impacts. Warnings are severity-rated (error, warning, info) with detailed explanations.
        </p>

        <h2 id="type-deduplication">Type Deduplication Detection</h2>
        <p>
          Find structurally similar schema definitions across your codebase
          (<span class="badge">Individual+</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--dedup</span></code></pre>
        <p>
          Identifies duplicate schemas with confidence scores. Clean up redundant definitions
          before or after migration to reduce maintenance burden.
        </p>

        <h2 id="dead-schema-detection">Dead Schema Detection</h2>
        <p>
          Find schema definitions that are never referenced elsewhere in your codebase
          (<span class="badge">Individual+</span>):
        </p>
        <pre><code><span class="cmd">schemashift analyze</span> ./src <span class="flag">--dedup</span></code></pre>
        <p>
          Scans for variable declarations that use schema library patterns (<code>z.</code>, <code>yup.</code>,
          <code>Joi.</code>, etc.) and checks if those variables are referenced in other files or elsewhere in the
          same file. Exported schemas are considered "used" and won't be flagged. Reports the total schema count
          and a list of unused schemas with file paths and line numbers.
        </p>
        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            Run dead schema detection after migration to clean up schemas that were only needed by the
            source library. Removing unused code reduces maintenance burden and improves build times.
          </p>
        </div>

        <h2 id="import-deduplication">Import Deduplication</h2>
        <p>
          Detect duplicate import declarations from the same module within files
          (<span class="badge">Free</span>):
        </p>
        <p>
          After migration, files may end up with multiple import statements from the same module &mdash;
          for example, two <code>import { ... } from 'zod'</code> lines. The import deduplicator detects these
          and suggests merged imports for cleaner code.
        </p>
        <pre><code><span class="comment">// Before (duplicate imports)</span>
import { z } from 'zod';
import { ZodError } from 'zod';

<span class="comment">// Suggested merge</span>
import { z, ZodError } from 'zod';</code></pre>

        <h2 id="test-scaffolding">Test Scaffolding</h2>
        <p>
          Generate validation test files after migration
          (<span class="badge">Pro+</span>):
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--scaffold-tests</span></code></pre>
        <p>
          Creates test stubs for each migrated schema in <code>.schemashift/tests/</code>.
          Each test file includes basic validation checks to verify the migration preserved behavior.
        </p>

        <h2 id="audit-logging">Audit Logging</h2>
        <p>
          Record detailed migration history for compliance
          (<span class="badge">Team</span>):
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">--from</span> yup <span class="flag">--to</span> zod <span class="flag">--audit</span></code></pre>
        <p>
          Logs each file transform with timestamps, success/failure status, and warning counts.
          The audit log is persisted to <code>.schemashift/audit-log.json</code> for enterprise
          compliance and traceability. Enhanced with metadata collection (git commit, branch, CI provider),
          JSON/CSV export, and date range filtering.
        </p>
        <div class="callout callout-info">
          <div class="callout-title">Data Integrity</div>
          <p>
            All persisted state files (audit logs, approval requests, incremental migration state) are
            validated with runtime type guards on read. Corrupted or tampered files are safely rejected
            instead of causing runtime errors.
          </p>
        </div>

        <!-- DRIFT DETECTION -->
        <h2 id="drift-detection">Schema Drift Detection</h2>
        <p>
          Detect when schemas diverge from a saved baseline
          (<span class="badge">Team</span>):
        </p>
        <p>
          The drift detector takes a snapshot of your schema state (file paths, content hashes, schema names)
          and saves it to <code>.schemashift/schema-snapshot.json</code>. Later, compare the current state
          against the snapshot to detect added, removed, and modified schema files.
        </p>
        <p>
          Useful for compliance auditing, CI drift checks, and tracking schema evolution over time.
        </p>

        <!-- GOVERNANCE TEMPLATES -->
        <h2 id="governance-templates">Governance Templates</h2>
        <p>
          Built-in governance rule templates for common policies
          (<span class="badge">Team</span>):
        </p>
        <ul>
          <li><strong>no-any-schemas</strong> — disallow <code>z.any()</code>, <code>yup.mixed()</code>, <code>Joi.any()</code></li>
          <li><strong>require-descriptions</strong> — all schemas must have <code>.describe()</code></li>
          <li><strong>max-nesting-depth</strong> — limit schema nesting depth (configurable threshold)</li>
          <li><strong>no-deprecated-methods</strong> — flag <code>.deepPartial()</code>, <code>.strip()</code>, <code>.promise()</code></li>
          <li><strong>naming-convention</strong> — enforce schema naming pattern (configurable regex)</li>
          <li><strong>require-max-length</strong> — string schemas must include <code>.max()</code></li>
        </ul>
        <p>
          Access templates programmatically via <code>getGovernanceTemplate(name)</code>, <code>getGovernanceTemplateNames()</code>,
          and <code>getGovernanceTemplatesByCategory()</code>.
        </p>

        <!-- CI REPORTING -->
        <h2 id="ci-reporting">CI Reporting (SARIF/JUnit)</h2>
        <p>
          Machine-readable output formats for CI/CD pipelines
          (<span class="badge">Pro+</span>):
        </p>
        <p>
          <strong>SARIF</strong> — Static Analysis Results Interchange Format for GitHub Code Scanning.
          Categorizes warnings into manual-review, behavioral-change, deprecated-pattern, and ecosystem-compatibility.
        </p>
        <p>
          <strong>JUnit</strong> — XML test report format for CI systems (Jenkins, GitLab CI, etc.).
          Creates test suites per file with test cases per transform result.
        </p>
        <p>
          <strong>Exit codes:</strong> 0 = success, 1 = failure, 2 = warnings (when <code>--fail-on-warnings</code> is enabled).
        </p>
        <p>
          A reusable <strong>GitHub Action</strong> is also available at <code>.github/actions/schemashift/action.yml</code>
          for easy CI/CD pipeline integration. See <a href="#github-action">GitHub Action</a> below.
        </p>

        <!-- GITHUB ACTION -->
        <h2 id="github-action">GitHub Action</h2>
        <p>
          A reusable GitHub Action for CI/CD pipeline integration
          (<span class="badge">Pro+</span>):
        </p>
        <pre><code><span class="comment"># .github/workflows/schema-migration.yml</span>
name: Schema Migration
on: [push]
jobs:
  migrate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/schemashift
        with:
          command: migrate
          path: ./src
          from: yup
          to: zod
          license-key: ${{ secrets.SCHEMASHIFT_LICENSE_KEY }}
          extra-args: <span class="string">"--ci --report json"</span></code></pre>

        <h3>Action Inputs</h3>
        <table>
          <thead>
            <tr>
              <th>Input</th>
              <th>Description</th>
              <th>Default</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>command</code></td>
              <td>CLI command to run (migrate, analyze, governance)</td>
              <td>migrate</td>
            </tr>
            <tr>
              <td><code>path</code></td>
              <td>Path to scan</td>
              <td>./src</td>
            </tr>
            <tr>
              <td><code>from</code></td>
              <td>Source library</td>
              <td>—</td>
            </tr>
            <tr>
              <td><code>to</code></td>
              <td>Target library</td>
              <td>—</td>
            </tr>
            <tr>
              <td><code>license-key</code></td>
              <td>SchemaShift license key</td>
              <td>—</td>
            </tr>
            <tr>
              <td><code>extra-args</code></td>
              <td>Additional CLI flags</td>
              <td>—</td>
            </tr>
          </tbody>
        </table>

        <h3>Action Outputs</h3>
        <table>
          <thead>
            <tr>
              <th>Output</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>exit-code</code></td>
              <td>CLI exit code (0=success, 1=failure, 2=warnings)</td>
            </tr>
            <tr>
              <td><code>report-path</code></td>
              <td>Path to generated report file (if --report used)</td>
            </tr>
          </tbody>
        </table>

        <!-- WEBHOOK NOTIFICATIONS -->
        <h2 id="webhook-notifications">Webhook Notifications</h2>
        <p>
          Send migration event notifications to external services
          (<span class="badge">Team</span>):
        </p>
        <p>
          Configure webhooks in your <code>.schemashiftrc.json</code> to receive notifications
          when migration events occur:
        </p>
        <pre><code>{
  <span class="string">"webhooks"</span>: [
    {
      <span class="string">"url"</span>: <span class="string">"https://hooks.slack.com/services/T00/B00/xxxx"</span>,
      <span class="string">"events"</span>: [<span class="string">"migration_completed"</span>, <span class="string">"migration_failed"</span>],
      <span class="string">"secret"</span>: <span class="string">"your-hmac-secret"</span>
    },
    {
      <span class="string">"url"</span>: <span class="string">"https://your-api.com/webhooks/schemashift"</span>,
      <span class="string">"events"</span>: [<span class="string">"governance_violation"</span>, <span class="string">"drift_detected"</span>],
      <span class="string">"headers"</span>: { <span class="string">"Authorization"</span>: <span class="string">"Bearer token"</span> }
    }
  ]
}</code></pre>

        <h3>Event Types</h3>
        <ul>
          <li><code>migration_started</code> — fired when a migration begins</li>
          <li><code>migration_completed</code> — fired on successful migration</li>
          <li><code>migration_failed</code> — fired when a migration fails</li>
          <li><code>governance_violation</code> — fired when governance rules are violated</li>
          <li><code>drift_detected</code> — fired when schema drift is detected</li>
        </ul>

        <h3>Webhook Type Formatting</h3>
        <p>
          Add a <code>type</code> field to automatically format payloads for specific platforms:
        </p>
        <pre><code>{
  <span class="string">"webhooks"</span>: [
    {
      <span class="string">"url"</span>: <span class="string">"https://hooks.slack.com/services/T00/B00/xxxx"</span>,
      <span class="string">"type"</span>: <span class="string">"slack"</span>,
      <span class="string">"events"</span>: [<span class="string">"migration_completed"</span>]
    },
    {
      <span class="string">"url"</span>: <span class="string">"https://outlook.office.com/webhook/..."</span>,
      <span class="string">"type"</span>: <span class="string">"teams"</span>
    }
  ]
}</code></pre>
        <ul>
          <li><code>"slack"</code> &mdash; sends Slack Block Kit format (header + section with fields + context)</li>
          <li><code>"teams"</code> &mdash; sends Microsoft Teams Adaptive Card format (TextBlock + FactSet)</li>
          <li><code>"generic"</code> (default) &mdash; sends raw event JSON payload</li>
        </ul>

        <h3>Webhook Options</h3>
        <p>
          Webhooks are signed with HMAC-SHA256 via the <code>X-SchemaShift-Signature</code> header
          when a <code>secret</code> is configured. Compatible with Slack, Microsoft Teams, Zapier,
          or any HTTP endpoint.
        </p>
        <p>
          You can configure a custom timeout per webhook (default: 10 seconds):
        </p>
        <pre><code>{
  <span class="string">"url"</span>: <span class="string">"https://slow-api.example.com/webhook"</span>,
  <span class="string">"events"</span>: [<span class="string">"migration_completed"</span>],
  <span class="string">"timeoutMs"</span>: <span class="number">15000</span>
}</code></pre>

        <!-- CROSS-FIELD PATTERNS -->
        <h2 id="cross-field-patterns">Cross-Field Validation Helpers</h2>
        <p>
          Reusable <code>.superRefine()</code> code generators for common cross-field validation patterns
          (<span class="badge">Pro+</span>):
        </p>
        <table>
          <thead>
            <tr>
              <th>Helper</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>requireIf(conditionField, requiredField)</code></td>
              <td>Make a field required when another field has a value</td>
            </tr>
            <tr>
              <td><code>requireOneOf(fields)</code></td>
              <td>At least one of N fields must be provided</td>
            </tr>
            <tr>
              <td><code>mutuallyExclusive(fields)</code></td>
              <td>Only one of N fields can be present at a time</td>
            </tr>
            <tr>
              <td><code>dependentFields(primary, dependents)</code></td>
              <td>Dependent fields become required when the primary is set</td>
            </tr>
            <tr>
              <td><code>conditionalValidation(condition, value, target, message)</code></td>
              <td>Value-based conditional validation on a target field</td>
            </tr>
          </tbody>
        </table>
        <p>
          Use <code>suggestCrossFieldPattern(whenCode)</code> to analyze Yup <code>.when()</code>
          patterns and get a recommended Zod equivalent.
        </p>

        <!-- ENHANCED .when() MIGRATION -->
        <h2 id="when-migration">Enhanced .when() Migration</h2>
        <p>
          Smart Yup <code>.when()</code> analysis with generated Zod replacement code
          (<span class="badge" style="background: var(--green)">Free</span>):
        </p>
        <p>
          The <code>analyzeWhenPatterns()</code> function detects the type of <code>.when()</code>
          condition and generates the appropriate Zod replacement:
        </p>
        <ul>
          <li><strong>Boolean discriminator</strong> → <code>z.discriminatedUnion()</code></li>
          <li><strong>Enum discriminator</strong> → <code>z.discriminatedUnion()</code></li>
          <li><strong>Presence check</strong> → <code>z.union()</code> + <code>.superRefine()</code></li>
          <li><strong>Simple either/or</strong> → <code>z.union()</code></li>
          <li><strong>Complex condition</strong> → <code>.superRefine()</code> template</li>
        </ul>
        <p>
          Instead of leaving a bare <code>// TODO: handle .when()</code>, SchemaShift generates
          working Zod code tailored to the specific pattern detected in your Yup schema.
        </p>

        <!-- ZOD V4 BEHAVIORAL TEST GENERATOR -->
        <h2 id="behavioral-test-gen">Zod v4 Behavioral Test Generator</h2>
        <p>
          Detect silent v4 behavioral changes and generate regression test files
          (<span class="badge">Pro+</span>):
        </p>
        <p>
          The behavioral test generator scans your Zod v3 code for 6 patterns where
          v4 silently changes behavior, then generates Vitest test files documenting
          the expected differences:
        </p>
        <ul>
          <li><code>.default()</code> + <code>.optional()</code> — <code>.default()</code> always provides a value, making <code>.optional()</code> a no-op</li>
          <li><code>instanceof Error</code> — <code>ZodError</code> no longer extends <code>Error</code></li>
          <li><code>.transform()</code> after <code>.refine()</code> — transforms now run even when refinements fail</li>
          <li><code>.catch()</code> + <code>.optional()</code> — <code>.catch()</code> catches all issues</li>
          <li>Error message format changes</li>
          <li><code>.flatten()</code> API changes</li>
        </ul>
        <p>
          Tests are output to <code>.schemashift/behavioral-tests/</code> and can be run
          with your existing test framework to verify v3 vs v4 behavior before committing.
        </p>

        <h2 id="incremental-migration">Incremental Migration</h2>
        <p>
          Migrate large projects file-by-file with progress tracking
          (<span class="badge">Pro+</span>):
        </p>
        <p>
          The incremental tracker persists state to
          <code>.schemashift/incremental.json</code>, allowing you to pause and
          resume migrations across sessions. Track completed, failed, and
          remaining files with percentage progress.
        </p>

        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            Incremental migration is ideal for large codebases where you want to
            migrate a few files at a time, verify correctness, and continue later.
          </p>
        </div>

        <h2 id="package-updates">Package Updates</h2>
        <p>
          SchemaShift can plan and apply dependency changes to your
          <code>package.json</code> during migration:
        </p>
        <ul>
          <li>Adds the target library if not already installed (e.g., adds <code>zod</code> for yup→zod)</li>
          <li>Updates version ranges when needed (e.g., <code>zod ^3.x</code> → <code>^4.0.0</code> for v3→v4)</li>
          <li>Suggests removal of source libraries after migration (never auto-removes)</li>
          <li>Handles both <code>dependencies</code> and <code>devDependencies</code></li>
        </ul>

        <div class="callout callout-warning">
          <div class="callout-title">Note</div>
          <p>
            SchemaShift never automatically removes source libraries. It only
            suggests removal after you verify all schemas have been migrated.
            Run <code>npm install</code> after applying package changes.
          </p>
        </div>

        <!-- NEW ADVANCED FEATURES -->
        <h2 id="schema-verification">Schema Verification (Contract Testing)</h2>
        <p><span class="badge">Pro+</span></p>
        <p>
          The <code>schemashift verify</code> command provides contract testing for migrated schemas,
          ensuring that target schemas produce the same validation behavior as source schemas.
        </p>
        <ul>
          <li><strong>Schema extraction</strong> &mdash; identifies schema definitions from source code (Zod, Yup, Joi, Valibot patterns and exports)</li>
          <li><strong>Sample generation</strong> &mdash; creates valid and invalid test data based on detected schema patterns (string, number, boolean, email, url, uuid, optional, nullable)</li>
          <li><strong>Parity scoring</strong> &mdash; compares pass/fail results between source and target, reporting an overall parity score</li>
          <li><strong>Mismatch reporting</strong> &mdash; details which samples produced different results and why</li>
        </ul>
        <pre><code><span class="cmd">schemashift verify</span> ./src <span class="flag">-f</span> yup <span class="flag">-t</span> zod <span class="flag">--samples</span> 100</code></pre>

        <h2 id="canary-migration">Canary Migration</h2>
        <p><span class="badge">Pro+</span></p>
        <p>
          Canary migration lets you migrate a percentage of files first, verify the results, then
          continue with the rest. This is especially useful for large codebases where you want to
          validate the migration approach before committing fully.
        </p>
        <pre><code><span class="comment"># Migrate 20% of files (simplest first)</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">-f</span> yup <span class="flag">-t</span> zod <span class="flag">--canary</span> 20

<span class="comment"># Verify, then continue with remaining files</span>
<span class="cmd">schemashift migrate</span> ./src <span class="flag">-f</span> yup <span class="flag">-t</span> zod</code></pre>
        <p>
          Files are selected by size (smallest/simplest first) using the <code>IncrementalTracker</code>.
          State is persisted so you can resume at any point.
        </p>

        <h2 id="duration-estimation">Duration Estimation</h2>
        <p><span class="badge">Individual+</span></p>
        <p>
          The complexity estimator now includes duration estimation, providing time range estimates
          based on the migration's effort level and file count:
        </p>
        <table>
          <thead>
            <tr>
              <th>Effort Level</th>
              <th>Base Range</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Trivial</td>
              <td>1&ndash;5 minutes</td>
              <td>Few simple schemas, no advanced patterns</td>
            </tr>
            <tr>
              <td>Low</td>
              <td>5&ndash;15 minutes</td>
              <td>Moderate schema count, basic patterns</td>
            </tr>
            <tr>
              <td>Moderate</td>
              <td>15&ndash;45 minutes</td>
              <td>Many schemas or some advanced patterns</td>
            </tr>
            <tr>
              <td>High</td>
              <td>1&ndash;3 hours</td>
              <td>Large codebase with complex patterns</td>
            </tr>
            <tr>
              <td>Extreme</td>
              <td>3&ndash;8 hours</td>
              <td>Very large codebase with many advanced patterns</td>
            </tr>
          </tbody>
        </table>
        <p>
          Ranges scale with file count using a logarithmic factor. Duration is shown during migration
          when the tier allows complexity estimation.
        </p>

        <h2 id="compliance-reports">Compliance Reports</h2>
        <p><span class="badge">Team</span></p>
        <p>
          Generate compliance-ready reports from migration audit logs for regulated environments.
          Use the <code>--compliance-report</code> flag during migration:
        </p>
        <pre><code><span class="cmd">schemashift migrate</span> ./src <span class="flag">-f</span> yup <span class="flag">-t</span> zod <span class="flag">--audit</span> <span class="flag">--compliance-report</span> soc2</code></pre>

        <h3>SOC2 Format</h3>
        <ul>
          <li><strong>Change Control Summary</strong> &mdash; total entries, success rate, date range</li>
          <li><strong>Entry Details</strong> &mdash; change control IDs, timestamps, risk scores, warnings</li>
          <li><strong>Rollback Procedure</strong> &mdash; backup verification and restore commands</li>
        </ul>

        <h3>HIPAA Format</h3>
        <ul>
          <li><strong>Data Transformation Summary</strong> &mdash; total entries, success rate, date range</li>
          <li><strong>Integrity Verification</strong> &mdash; SHA-256 content hashes for each transformation</li>
          <li><strong>Access Control</strong> &mdash; hostname, user, CI provider, job ID for each operation</li>
        </ul>

        <h2 id="ci-templates">CI/CD Templates</h2>
        <p><span class="badge">Pro+</span></p>
        <p>
          Ready-to-use CI/CD pipeline templates are provided for multiple platforms,
          complementing the existing GitHub Action:
        </p>

        <h3>GitLab CI</h3>
        <p>Template at <code>templates/gitlab-ci.yml</code> includes:</p>
        <ul>
          <li><code>schemashift-migrate</code> job with JUnit report artifacts</li>
          <li><code>schemashift-analyze</code> job with JSON output</li>
          <li><code>schemashift-governance</code> job for Team tier</li>
        </ul>
        <pre><code><span class="comment"># Include in your .gitlab-ci.yml</span>
include:
  - local: templates/gitlab-ci.yml</code></pre>

        <h3>Azure DevOps</h3>
        <p>Template at <code>templates/azure-pipelines.yml</code> includes:</p>
        <ul>
          <li>Analyze job with build artifact publishing</li>
          <li>Migrate job with JUnit test results integration</li>
        </ul>

        <h2 id="hooks-integration">Pre-Commit Hooks</h2>
        <p><span class="badge">Pro+</span></p>
        <p>
          Integrate governance checks into your git workflow. The hooks command
          automatically detects husky and lint-staged:
        </p>
        <pre><code><span class="comment"># Install hooks (auto-detects husky/lint-staged)</span>
<span class="cmd">schemashift hooks</span> install

<span class="comment"># Check hook status</span>
<span class="cmd">schemashift hooks</span> status

<span class="comment"># Remove hooks</span>
<span class="cmd">schemashift hooks</span> uninstall</code></pre>
        <p>
          Once installed, governance checks run automatically on pre-commit,
          catching schema violations before they reach your repository.
        </p>

        <h2 id="policy-as-code">Policy-as-Code</h2>
        <p><span class="badge">Team</span></p>
        <p>
          The policy command provides structured management of schema governance
          policies for your organization:
        </p>
        <ul>
          <li><code>schemashift policy init</code> &mdash; generates a policy file from built-in governance templates</li>
          <li><code>schemashift policy check &lt;path&gt;</code> &mdash; runs governance checks with active policies</li>
          <li><code>schemashift policy list</code> &mdash; shows available governance templates grouped by category</li>
        </ul>
        <p>
          Policies build on top of the existing governance engine, providing a more
          structured workflow for enforcing schema standards across teams.
        </p>

        <!-- LICENSING -->
        <h2 id="tiers">Tiers & Features</h2>

        <table>
          <thead>
            <tr>
              <th>Feature</th>
              <th>Free</th>
              <th>Individual ($49)</th>
              <th>Pro ($149)</th>
              <th>Team ($29/mo)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">Migrations</td>
            </tr>
            <tr>
              <td>Files per migration</td>
              <td>10</td>
              <td>Unlimited</td>
              <td>Unlimited</td>
              <td>Unlimited</td>
            </tr>
            <tr>
              <td>Yup → Zod</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Joi → Zod</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Zod v3 → v4</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>io-ts → Zod</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Zod ↔ Valibot</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Zod → Yup</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Valibot → Zod</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">Reports & Output</td>
            </tr>
            <tr>
              <td>JSON reports</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>HTML reports</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>CSV export</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">Analysis & Safety</td>
            </tr>
            <tr>
              <td>Custom rules</td>
              <td>Up to 5</td>
              <td>Unlimited</td>
              <td>Unlimited</td>
              <td>Unlimited</td>
            </tr>
            <tr>
              <td>Git integration</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Advanced analysis</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Risk scoring</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Compatibility checking</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Cross-file resolution</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Chain migrations</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Ecosystem detection</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Incremental migration</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Standard Schema detection</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Package.json updates</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Form resolver migration</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Complexity estimation</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>TODO resolution summary</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Monorepo-aware migration</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Ecosystem upgrade commands</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Behavioral warnings</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Bundle size estimation</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Performance analysis</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Type deduplication</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Dead schema detection</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Import deduplication</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Test scaffolding</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">CI/CD & Automation</td>
            </tr>
            <tr>
              <td>CI/CD support</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Watch mode</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td><code>--fail-on-warnings</code></td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td><code>--max-risk-score</code></td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">Enterprise</td>
            </tr>
            <tr>
              <td>Devices</td>
              <td>1</td>
              <td>1</td>
              <td>4</td>
              <td>Unlimited</td>
            </tr>
            <tr>
              <td>Custom plugins</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Schema governance</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Audit logging</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td colspan="5" style="font-weight: 600; color: var(--accent); padding-top: 1.25rem;">New Features</td>
            </tr>
            <tr>
              <td>Doctor command</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Unified diff export</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Dry-run summary table</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Duration estimation</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Compare command</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Schema verification</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Canary migration</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Pre-commit hooks</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>GitLab CI / Azure DevOps templates</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Policy-as-code</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Compliance reports (SOC2/HIPAA)</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Slack/Teams webhook formatting</td>
              <td>—</td>
              <td>—</td>
              <td>—</td>
              <td>✓</td>
            </tr>
          </tbody>
        </table>

        <p><a href="/">View pricing and purchase →</a></p>

        <h2 id="activation">Activation</h2>
        <p>
          After purchasing, you'll receive a license key via email. Activate it:
        </p>
        <pre><code><span class="cmd">schemashift license</span> <span class="flag">--activate</span> SCHEMASHIFT_PRO_xxxx-xxxx-xxxx</code></pre>

        <p>
          Your license is stored locally at
          <code>~/.config/schemashift/license.json</code>.
        </p>

        <h3>Moving to Another Device</h3>
        <p>Deactivate on your current device first:</p>
        <pre><code><span class="cmd">schemashift license</span> <span class="flag">--deactivate</span></code></pre>
        <p>Then activate on the new device with the same key.</p>

        <h2 id="ci-cd">CI/CD Setup</h2>
        <p><strong>Requires Pro or Team license.</strong></p>

        <p>
          Set the <code>SCHEMASHIFT_LICENSE_KEY</code> environment variable in
          your CI platform:
        </p>

        <h3>GitHub Actions</h3>
        <pre><code>name: Schema Migration Check

on: [push]

jobs:
  migrate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 22

      - run: npm install -g schemashift-cli

      - name: Check for Yup schemas
        run: schemashift analyze ./src --json

      - name: Dry run migration
        env:
          SCHEMASHIFT_LICENSE_KEY: ${{ secrets.SCHEMASHIFT_LICENSE_KEY }}
        run: schemashift migrate ./src --from yup --to zod --dry-run --ci</code></pre>

        <h3>GitLab CI</h3>
        <p>A ready-to-use template is available at <code>templates/gitlab-ci.yml</code>. Minimal example:</p>
        <pre><code>schema-check:
  image: node:22
  script:
    - npm install -g schemashift-cli
    - schemashift migrate ./src --from yup --to zod --dry-run --ci
  variables:
    SCHEMASHIFT_LICENSE_KEY: $SCHEMASHIFT_LICENSE_KEY
  artifacts:
    reports:
      junit: migration-report.xml</code></pre>

        <h3>Azure DevOps</h3>
        <p>A ready-to-use template is available at <code>templates/azure-pipelines.yml</code>. Minimal example:</p>
        <pre><code>steps:
  - script: |
      npm install -g schemashift-cli
      schemashift migrate ./src --from yup --to zod --ci \
        --report junit --report-output $(Build.ArtifactStagingDirectory)/results.xml
    env:
      SCHEMASHIFT_LICENSE_KEY: $(SCHEMASHIFT_LICENSE_KEY)
  - task: PublishTestResults@2
    inputs:
      testResultsFiles: '$(Build.ArtifactStagingDirectory)/results.xml'</code></pre>

        <div class="callout callout-info">
          <div class="callout-title">Tip</div>
          <p>
            The <code>--ci</code> flag exits with code 1 if any migration fails,
            making it suitable for CI pipelines. Use <code>--output-diff -</code>
            to include unified diff output in your CI logs.
          </p>
        </div>

        <!-- REFERENCE -->
        <h2 id="troubleshooting">Troubleshooting</h2>

        <h3>License activation fails</h3>
        <ul>
          <li>Check your internet connection</li>
          <li>Verify the key is correct (no extra spaces)</li>
          <li>
            If you've hit the device limit, deactivate another device first
          </li>
        </ul>

        <h3>"Migration requires higher tier"</h3>
        <p>
          Some migration paths (io-ts, Zod↔Valibot, ArkType, Superstruct, Effect Schema) require paid tiers. Run
          <code>schemashift pricing</code> to see what's included in each tier.
          Yup→Zod and Joi→Zod are available in the Free tier.
        </p>

        <h3>"No handler for migration"</h3>
        <p>The requested migration path isn't supported. Supported paths:</p>
        <ul>
          <li><code>yup</code> → <code>zod</code></li>
          <li><code>joi</code> → <code>zod</code></li>
          <li><code>zod-v3</code> → <code>v4</code></li>
          <li><code>io-ts</code> → <code>zod</code></li>
          <li><code>zod</code> ↔ <code>valibot</code></li>
          <li><code>zod</code> → <code>yup</code></li>
          <li><code>valibot</code> → <code>zod</code></li>
          <li><code>zod</code> ↔ <code>arktype</code></li>
          <li><code>zod</code> ↔ <code>superstruct</code></li>
          <li><code>io-ts</code> → <code>effect</code> (Effect Schema)</li>
        </ul>

        <h3>Transformation produces incorrect code</h3>
        <ol>
          <li>Run with <code>--dry-run</code> first</li>
          <li>Use <code>schemashift rollback</code> to restore from backup</li>
          <li>Report the issue with the original code snippet</li>
        </ol>

        <h3>Offline usage</h3>
        <p>
          SchemaShift validates your license weekly. You can work offline for up
          to 7 days after the last successful validation.
        </p>

        <h2 id="support">Support</h2>

        <ul>
          <li>
            <strong>Email:</strong>
            <a href="mailto:support@qwady.com">support@qwady.com</a>
          </li>
          <li>
            <strong>Issues:</strong> Email with code samples for transformation
            bugs
          </li>
        </ul>

        <div class="callout callout-success">
          <div class="callout-title">Pro & Team</div>
          <p>
            Priority support with faster response times for paid license
            holders.
          </p>
        </div>
      </main>
    </div>
  </body>
</html>
